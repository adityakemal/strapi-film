"use strict";(self.webpackChunkstapi_film_cms=self.webpackChunkstapi_film_cms||[]).push([[9789],{73972:(T,d,t)=>{t.d(d,{f:()=>h});var e=t(67294),r=t(57993),l=t(88767),E=t(52809),m=t(35326);const h=()=>{const o=(0,r.lm)(),{del:D,post:f,put:O,get:B}=(0,r.kY)(),{formatAPIError:p}=(0,r.So)(),{isLoading:n,isError:s,data:_,refetch:a,error:i}=(0,l.useQuery)(["get-documentation",E.Z],async()=>{const{data:u}=await B(`/${E.Z}/getInfos`);return u});(0,e.useEffect)(()=>{s&&i&&o({type:"warning",message:i?p(i):{id:"notification.error"}})},[s,i,o,p]);const c=u=>{o({type:"warning",message:p(u)})},M=(u,v,x)=>{a(),o({type:u,message:{id:(0,m.Z)(v),defaultMessage:x}})},L=(0,l.useMutation)(({prefix:u,version:v})=>D(`${u}/deleteDoc/${v}`),{onSuccess:()=>M("info","notification.delete.success","Successfully deleted documentation"),onError:c}),A=(0,l.useMutation)(({prefix:u,body:v})=>O(`${u}/updateSettings`,v),{onSuccess:()=>M("success","notification.update.success","Successfully updated settings"),onError:c}),R=(0,l.useMutation)(({prefix:u,version:v})=>f(`${u}/regenerateDoc`,{version:v}),{onSuccess:()=>M("info","notification.generate.success","Successfully generated documentation"),onError:c});return{data:_,isLoading:n,isError:s,remove:L,submit:A,regenerate:R}}},16561:(T,d,t)=>{t.r(d),t.d(d,{default:()=>b});var e=t(67294),r=t(17034),l=t(49066),E=t(41580),m=t(185),h=t(53979),o=t(38939),D=t(8060),f=t(79031),O=t(37909),B=t(75515),p=t(15234),n=t(11047),s=t(12028),_=t(32064),a=t(57993),i=t(8934),c=t(30815),M=t(20022),L=t(64593),A=t(86896),R=t(88972),u=t(12966),v=t(73972),x=t(10104);const S=()=>{(0,a.go)();const{formatMessage:P}=(0,A.Z)(),{data:C,isLoading:j,isError:F,remove:N,regenerate:z}=(0,v.f)(),[y,W]=(0,e.useState)(!1),[H,$]=(0,e.useState)(!1),[Q,G]=(0,e.useState)(),{allowedActions:I}=(0,a.ss)(u._),X=4,Y=(C?.docVersions?.length||0)+1,J=g=>{z.mutate({version:g,prefix:C?.prefix})},w=()=>{W(!y)},k=async()=>{$(!0),await N.mutateAsync({prefix:C?.prefix,version:Q}),W(!y),$(!1)},q=g=>{G(g),W(!y)},Z=P({id:(0,x.O)("plugin.name"),defaultMessage:"Documentation"});return F?e.createElement(r.A,null,e.createElement(l.D,null,e.createElement(E.x,{paddingTop:8},e.createElement(a.Hn,null)))):e.createElement(r.A,null,e.createElement(L.q,{title:Z}),e.createElement(m.o,{"aria-busy":j},e.createElement(h.T,{title:Z,subtitle:P({id:(0,x.O)("pages.PluginPage.header.description"),defaultMessage:"Configure the documentation plugin"}),primaryAction:e.createElement(V,{disabled:!I.canOpen||!C?.currentVersion||!C?.prefix,href:K(`${C?.prefix}/v${C?.currentVersion}`),startIcon:e.createElement(i.Z,null)},P({id:(0,x.O)("pages.PluginPage.Button.open"),defaultMessage:"Open Documentation"}))}),e.createElement(l.D,null,j&&e.createElement(a.dO,null,"Plugin is loading"),C?.docVersions.length?e.createElement(o.i,{colCount:X,rowCount:Y},e.createElement(D.h,null,e.createElement(f.Tr,null,e.createElement(O.Th,null,e.createElement(B.Z,{variant:"sigma",textColor:"neutral600"},P({id:(0,x.O)("pages.PluginPage.table.version"),defaultMessage:"Version"}))),e.createElement(O.Th,null,e.createElement(B.Z,{variant:"sigma",textColor:"neutral600"},P({id:(0,x.O)("pages.PluginPage.table.generated"),defaultMessage:"Last Generated"}))))),e.createElement(p.p,null,C.docVersions.sort((g,U)=>g.generatedDate<U.generatedDate?1:-1).map(g=>e.createElement(f.Tr,{key:g.version},e.createElement(O.Td,{width:"50%"},e.createElement(B.Z,null,g.version)),e.createElement(O.Td,{width:"50%"},e.createElement(B.Z,null,g.generatedDate)),e.createElement(O.Td,null,e.createElement(n.k,{justifyContent:"end",onClick:U=>U.stopPropagation()},e.createElement(s.h,{forwardedAs:"a",disabled:!I.canOpen,href:K(`${C.prefix}/v${g.version}`),noBorder:!0,icon:e.createElement(i.Z,null),target:"_blank",rel:"noopener noreferrer",label:P({id:(0,x.O)("pages.PluginPage.table.icon.show"),defaultMessage:"Open {target}"},{target:`${g.version}`})}),I.canRegenerate?e.createElement(s.h,{onClick:()=>J(g.version),noBorder:!0,icon:e.createElement(c.Z,null),label:P({id:(0,x.O)("pages.PluginPage.table.icon.regenerate"),defaultMessage:"Regenerate {target}"},{target:`${g.version}`})}):null,I.canUpdate&&g.version!==C.currentVersion?e.createElement(s.h,{onClick:()=>q(g.version),noBorder:!0,icon:e.createElement(M.Z,null),label:P({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:`${g.version}`})}):null)))))):e.createElement(a.x7,null)),e.createElement(a.QH,{isConfirmButtonLoading:H,onConfirm:k,onToggleDialog:w,isOpen:y})))},V=(0,R.ZP)(_.Q)`
  text-decoration: none;
`,K=P=>P.startsWith("http")?P:P.startsWith("/")?`${window.strapi.backendURL}${P}`:`${window.strapi.backendURL}/${P}`,b=S},35326:(T,d,t)=>{t.d(d,{Z:()=>l});var e=t(52809);const l=E=>`${e.Z}.${E}`},10104:(T,d,t)=>{t.d(d,{O:()=>e.Z});var e=t(35326)},49066:(T,d,t)=>{t.d(d,{D:()=>l});var e=t(85893),r=t(41580);const l=({children:E})=>(0,e.jsx)(r.x,{paddingLeft:10,paddingRight:10,children:E})},53979:(T,d,t)=>{t.d(d,{T:()=>O});var e=t(85893),r=t(67294),l=t(88972);const E=n=>{const s=(0,r.useRef)(null),[_,a]=(0,r.useState)(!0),i=([c])=>{a(c.isIntersecting)};return(0,r.useEffect)(()=>{const c=s.current,M=new IntersectionObserver(i,n);return c&&M.observe(s.current),()=>{c&&M.disconnect()}},[s,n]),[s,_]};var m=t(79698);const h=(n,s)=>{const _=(0,m.W)(s);(0,r.useLayoutEffect)(()=>{const a=new ResizeObserver(_);return Array.isArray(n)?n.forEach(i=>{i.current&&a.observe(i.current)}):n.current&&a.observe(n.current),()=>{a.disconnect()}},[n,_])};var o=t(41580),D=t(11047),f=t(75515);const O=n=>{const s=(0,r.useRef)(null),[_,a]=(0,r.useState)(null),[i,c]=E({root:null,rootMargin:"0px",threshold:0});return h(i,()=>{i.current&&a(i.current.getBoundingClientRect())}),(0,r.useEffect)(()=>{s.current&&a(s.current.getBoundingClientRect())},[s]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{height:_?.height},ref:i,children:c&&(0,e.jsx)(p,{ref:s,...n})}),!c&&(0,e.jsx)(p,{...n,sticky:!0,width:_?.width})]})};O.displayName="HeaderLayout";const B=(0,l.ZP)(o.x)`
  width: ${({width:n})=>n?`${n/16}rem`:void 0};
  z-index: ${({theme:n})=>n.zIndices[1]};
`,p=r.forwardRef(({navigationAction:n,primaryAction:s,secondaryAction:_,subtitle:a,title:i,sticky:c,width:M,...L},A)=>{const R=typeof a=="string";return c?(0,e.jsx)(B,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:M,"data-strapi-header-sticky":!0,children:(0,e.jsxs)(D.k,{justifyContent:"space-between",children:[(0,e.jsxs)(D.k,{children:[n&&(0,e.jsx)(o.x,{paddingRight:3,children:n}),(0,e.jsxs)(o.x,{children:[(0,e.jsx)(f.Z,{variant:"beta",as:"h1",...L,children:i}),R?(0,e.jsx)(f.Z,{variant:"pi",textColor:"neutral600",children:a}):a]}),_?(0,e.jsx)(o.x,{paddingLeft:4,children:_}):null]}),(0,e.jsx)(D.k,{children:s?(0,e.jsx)(o.x,{paddingLeft:2,children:s}):void 0})]})}):(0,e.jsxs)(o.x,{ref:A,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:n?6:8,background:"neutral100","data-strapi-header":!0,children:[n?(0,e.jsx)(o.x,{paddingBottom:2,children:n}):null,(0,e.jsxs)(D.k,{justifyContent:"space-between",children:[(0,e.jsxs)(D.k,{minWidth:0,children:[(0,e.jsx)(f.Z,{as:"h1",variant:"alpha",...L,children:i}),_?(0,e.jsx)(o.x,{paddingLeft:4,children:_}):null]}),s]}),R?(0,e.jsx)(f.Z,{variant:"epsilon",textColor:"neutral600",as:"p",children:a}):a]})})},17034:(T,d,t)=>{t.d(d,{A:()=>h});var e=t(85893),r=t(88972),l=t(41580);const E=(0,r.ZP)(l.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:o})=>o?"auto 1fr":"1fr"};
`,m=(0,r.ZP)(l.x)`
  overflow-x: hidden;
`,h=({sideNav:o,children:D})=>(0,e.jsxs)(E,{hasSideNav:!!o,children:[o,(0,e.jsx)(m,{paddingBottom:10,children:D})]})},32064:(T,d,t)=>{t.d(d,{Q:()=>O});var e=t(85893),r=t(67294),l=t(73727),E=t(88972),m=t(92577),h=t(21817),o=t(11047),D=t(75515);const f=(0,E.ZP)(h.G)`
  &[aria-disabled='true'] {
    ${m.sg}
    &:active {
      ${m.sg}
    }
  }
  &:hover {
    ${m.yP}
  }
  &:active {
    ${m.tB}
  }
  ${m.PD}
`,O=r.forwardRef(({variant:B="default",startIcon:p,endIcon:n,disabled:s=!1,children:_,size:a="S",href:i,to:c,...M},L)=>{const A=i?"_blank":void 0,R=i?"noreferrer noopener":void 0,u=a==="S"?2:"10px",v=4;return(0,e.jsxs)(f,{ref:L,"aria-disabled":s,size:a,variant:B,target:A,rel:R,to:s?void 0:c,href:s?"#":i,background:"buttonPrimary600",borderColor:"buttonPrimary600",hasRadius:!0,gap:2,inline:!0,paddingBottom:u,paddingLeft:v,paddingRight:v,paddingTop:u,pointerEvents:s?"none":void 0,...M,as:c&&!s?l.OL:"a",children:[p&&(0,e.jsx)(o.k,{"aria-hidden":!0,children:p}),(0,e.jsx)(D.Z,{variant:a==="S"?"pi":void 0,fontWeight:"bold",textColor:"buttonNeutral0",children:_}),n&&(0,e.jsx)(o.k,{"aria-hidden":!0,children:n})]})})},185:(T,d,t)=>{t.d(d,{o:()=>m});var e=t(85893),r=t(88972),l=t(41580);const E=(0,r.ZP)(l.x)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,m=({labelledBy:h="main-content-title",...o})=>(0,e.jsx)(E,{"aria-labelledby":h,as:"main",id:"main-content",tabIndex:-1,...o})}}]);
